<div id='project_split_container'>
  <div id='project_summary'>
      {# Summary View #}
  </div>
  <div id='project_related_data_tab_container'>
    {# Tab View #}
  </div>
</div>

<script type='text/javascript'>
  require(['dijit/registry', 'dijit/layout/SplitContainer',
    'dijit/layout/TabContainer', 'dojox/layout/ContentPane', 'dojo/domReady!'],
    function(registry, SplitContainer, TabContainer, ContentPane){

      var project_SplitContainer = new SplitContainer({
        region: 'center',
        orientation: 'vertical',
        splitter: false

      }, 'project_split_container');

      var summary_content_pane = new ContentPane({
        title: 'Summarize',
        href: 'summarize/project/{{ project.id }}',
        region: 'top',
        style: 'padding: 0;'
      },'project_summary');


      // **********************************************************************
      // Bottom Part - Complex Data View
      var project_related_data_tab_container = new TabContainer({
        region: 'bottom',
        style: 'background-color: #39b54a;'
      }, 'project_related_data_tab_container');

      var users_content_pane = new ContentPane({
        title: 'Users',
        href: 'list/users/{{ project.id }}'
      });
      
      var tasks_content_pane = new ContentPane({
        title: 'Tasks',
        href: 'list/tasks/{{ project.id }}'
      });
      
      var assets_content_pane = new ContentPane({
        title: 'Assets',
        href:'list/assets/{{ project.id }}'
      });
      
      var shots_content_pane = new ContentPane({
        title: 'Shots',
        href: 'list/shots/{{ project.id }}'
      });

      var sequences_content_pane = new ContentPane({
        title: 'Sequences',
        href: 'list/sequences/{{ project.id }}'
      });
      
      var tickets_content_pane = new ContentPane({
        title: 'Tickets',
        content: 'list/tickets/{{ project.id }}'
      });



      project_related_data_tab_container.addChild(users_content_pane);
      project_related_data_tab_container.addChild(tasks_content_pane);
      project_related_data_tab_container.addChild(assets_content_pane);
      project_related_data_tab_container.addChild(shots_content_pane);
      project_related_data_tab_container.addChild(sequences_content_pane);
      project_related_data_tab_container.addChild(tickets_content_pane);
      project_related_data_tab_container.startup();

      project_SplitContainer.addChild(summary_content_pane);
      project_SplitContainer.addChild(project_related_data_tab_container);
      project_SplitContainer.startup();
{#      project_related_data_tab_container.watch("selectedChildWidget", function(name, oval, nval){#}
{#        console.log("selected child changed from ", nval.title, " to ", nval.href);#}
{##}
{#        if(nval == assets_content_pane &&  assets_content_pane.href != 'list/assets/{{ project.id }}'){#}
{##}
{#          assets_content_pane.set('href', 'list/assets/{{ project.id }}');#}
{##}
{##}
{#        }#}
{##}
{#      });#}
      
  });
</script>

